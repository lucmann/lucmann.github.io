<!DOCTYPE html>
<html lang="en">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-96x96.png">
  <link rel="mask-icon" href="/images/favicon.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha256-5eIC48iZUHmSlSUz9XtjRyK2mzQkHScZY1WdMaoz74E=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"lucmann.github.io","root":"/","images":"/images","scheme":"Mist","darkmode":false,"version":"8.21.1","exturl":false,"sidebar":{"position":"right","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":true,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"disqus","storage":true,"lazyload":false,"nav":{"disqus":{"text":"Load Disqus","order":-1}},"activeClass":"disqus"},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":true,"preload":true}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="Eureka">
<meta property="og:url" content="https://lucmann.github.io/page/6/index.html">
<meta property="og:site_name" content="Eureka">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Luc">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://lucmann.github.io/page/6/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"page/6/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Eureka</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Eureka</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="Searching..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Luc</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">132</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">26</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/lucmann" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;lucmann" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:onion0709@gmail.com" title="E-Mail → mailto:onion0709@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lucmann.github.io/misc/thinking-in-go/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Luc">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eureka">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Eureka">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/misc/thinking-in-go/" class="post-title-link" itemprop="url">学弈</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-08-27 15:00:41" itemprop="dateCreated datePublished" datetime="2023-08-27T15:00:41+08:00">2023-08-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/misc/" itemprop="url" rel="index"><span itemprop="name">misc</span></a>
        </span>
    </span>

  
    <span id="/misc/thinking-in-go/" class="post-meta-item leancloud_visitors" data-flag-title="学弈" title="Views">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/misc/thinking-in-go/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="misc/thinking-in-go/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="棋理"><a class="markdownIt-Anchor" href="#棋理"></a> 棋理</h1>
<p>最近和朋友的孩子下了几盘棋，在惊叹现在孩子的聪慧和学习能力之余，也深感自己的“棋艺”着实有待提高。便又拣起荒废已久的弈城账号，想下几盘找找感觉，结果又一次应了那句，“业精于勤，荒于嬉”。失落之余，索性去 B 站，重看邱百瑞老师的<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1tt4y1G7KR/?p=2&amp;spm_id_from=pageDriver&amp;vd_source=b3ba1ad08e1b41cd7118d8dd88f0e670">带你零基础学围棋</a>.<br />
再看确实有不一样的感受。围棋的奥妙和那些千古流传的棋理自不必多说，我想自己学习下棋，试着了解棋理的原因，也是被围棋这种“方寸之间有天地，黑白之处显乾坤”的魅力所折服。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/misc/thinking-in-go/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lucmann.github.io/lnx/amdgpu-glossary/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Luc">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eureka">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Eureka">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/lnx/amdgpu-glossary/" class="post-title-link" itemprop="url">AMDGPU 驱动(KMD + UMD)中的一些缩写词解释</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-08-19 18:30:15" itemprop="dateCreated datePublished" datetime="2023-08-19T18:30:15+08:00">2023-08-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
        </span>
    </span>

  
    <span id="/lnx/amdgpu-glossary/" class="post-meta-item leancloud_visitors" data-flag-title="AMDGPU 驱动(KMD + UMD)中的一些缩写词解释" title="Views">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/lnx/amdgpu-glossary/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="lnx/amdgpu-glossary/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="/images/amdgpu-glossary/amd-arch.jpg" alt="AMDGPU Microarchitecture Roadmap" /></p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/lnx/amdgpu-glossary/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lucmann.github.io/misc/maillist/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Luc">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eureka">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Eureka">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/misc/maillist/" class="post-title-link" itemprop="url">我在邮件列表里学英语</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-07-15 20:20:40" itemprop="dateCreated datePublished" datetime="2023-07-15T20:20:40+08:00">2023-07-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/misc/" itemprop="url" rel="index"><span itemprop="name">misc</span></a>
        </span>
    </span>

  
    <span id="/misc/maillist/" class="post-meta-item leancloud_visitors" data-flag-title="我在邮件列表里学英语" title="Views">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/misc/maillist/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="misc/maillist/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>Communication is hard, especially with all the different personalities, languages, and<br />
cultures involved in an international community like this.</p>
<p>– <cite>Faith Ekstrand</cite></p>
</blockquote>
<blockquote>
<p>It is rules and not our individual smarts that keep us from making mistakes.</p>
<p>– <cite>Faith Ekstrand</cite></p>
</blockquote>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/misc/maillist/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lucmann.github.io/misc/moive/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Luc">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eureka">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Eureka">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/misc/moive/" class="post-title-link" itemprop="url">电影里的经典台词</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-07-09 20:47:35" itemprop="dateCreated datePublished" datetime="2023-07-09T20:47:35+08:00">2023-07-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/misc/" itemprop="url" rel="index"><span itemprop="name">misc</span></a>
        </span>
    </span>

  
    <span id="/misc/moive/" class="post-meta-item leancloud_visitors" data-flag-title="电影里的经典台词" title="Views">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/misc/moive/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="misc/moive/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="scent-of-a-woman-1992"><a class="markdownIt-Anchor" href="#scent-of-a-woman-1992"></a> Scent of a woman (1992)</h1>
<p>No mistakes in the Tango, not like life. It’s simple, that’s what makes the Tango so great. If you make a mistake, get all tangled up, just Tango on.</p>
<h1 id="rudy-1993"><a class="markdownIt-Anchor" href="#rudy-1993"></a> Rudy (1993)</h1>
<p>Having dreams is what makes life tolerable</p>
<h1 id="the-shawshank-redemption-1994"><a class="markdownIt-Anchor" href="#the-shawshank-redemption-1994"></a> The Shawshank Redemption (1994)</h1>
<p>Get busy living or get busy dying</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lucmann.github.io/lnx/cache/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Luc">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eureka">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Eureka">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/lnx/cache/" class="post-title-link" itemprop="url">Cache 一致性</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-06-27 15:42:45" itemprop="dateCreated datePublished" datetime="2023-06-27T15:42:45+08:00">2023-06-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
        </span>
    </span>

  
    <span id="/lnx/cache/" class="post-meta-item leancloud_visitors" data-flag-title="Cache 一致性" title="Views">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/lnx/cache/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="lnx/cache/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="cache"><a class="markdownIt-Anchor" href="#cache"></a> Cache</h1>
<p>音同 cash, 不管是在硬件还是软件都是影响性能的一个重要因素之一。Cache 无论是 CPU cache 还是 GPU cache 一般都分级， L1，L2, 在 Multi-processor CPU/GPU 架构中， L1 一般是分开的，每个 Processor 有一个自己的 L1 Cache, 而 L2 Cache 是全局的，所有 processors 共享的。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/lnx/cache/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lucmann.github.io/gfx/mesa-llvm/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Luc">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eureka">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Eureka">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/gfx/mesa-llvm/" class="post-title-link" itemprop="url">Mesa 对 LLVM 的依赖</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-06-25 00:00:00" itemprop="dateCreated datePublished" datetime="2023-06-25T00:00:00+08:00">2023-06-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/graphics/" itemprop="url" rel="index"><span itemprop="name">graphics</span></a>
        </span>
    </span>

  
    <span id="/gfx/mesa-llvm/" class="post-meta-item leancloud_visitors" data-flag-title="Mesa 对 LLVM 的依赖" title="Views">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/gfx/mesa-llvm/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="gfx/mesa-llvm/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="llvm-和-mesa-简介"><a class="markdownIt-Anchor" href="#llvm-和-mesa-简介"></a> LLVM 和 Mesa 简介</h1>
<h2 id="llvm-low-level-virtual-machine"><a class="markdownIt-Anchor" href="#llvm-low-level-virtual-machine"></a> LLVM (Low-Level Virtual Machine)</h2>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/gfx/mesa-llvm/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lucmann.github.io/hw/hikey970/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Luc">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eureka">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Eureka">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/hw/hikey970/" class="post-title-link" itemprop="url">HiKey970</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-06-14 15:00:41" itemprop="dateCreated datePublished" datetime="2023-06-14T15:00:41+08:00">2023-06-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/hardware/" itemprop="url" rel="index"><span itemprop="name">hardware</span></a>
        </span>
    </span>

  
    <span id="/hw/hikey970/" class="post-meta-item leancloud_visitors" data-flag-title="HiKey970" title="Views">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/hw/hikey970/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="hw/hikey970/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="环境准备"><a class="markdownIt-Anchor" href="#环境准备"></a> 环境准备</h1>
<h2 id="wsl2-作为上位机"><a class="markdownIt-Anchor" href="#wsl2-作为上位机"></a> WSL2 作为上位机</h2>
<h3 id="识别-windows-11-host-的-usb-serial-device"><a class="markdownIt-Anchor" href="#识别-windows-11-host-的-usb-serial-device"></a> 识别 Windows 11 Host 的 USB Serial Device</h3>
<p>分别在 Windows 11 上安装 <a target="_blank" rel="noopener" href="https://github.com/dorssel/usbipd-win">usbipd-win</a>， 在 WSL2 上安装 <a target="_blank" rel="noopener" href="https://github.com/dorssel/usbipd-win/wiki/WSL-support">user space tools for USB/IP</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Microsoft Windows [版本 10.0.22621.1702]</span><br><span class="line">(c) Microsoft Corporation。保留所有权利。</span><br><span class="line"></span><br><span class="line">C:\Windows\System32&gt;usbipd wsl list</span><br><span class="line">BUSID  VID:PID    DEVICE                                                        STATE</span><br><span class="line">1-9    046d:c534  USB 输入设备                                                  Not attached</span><br><span class="line">1-13   04e2:1410  USB 串行设备 (COM4)                                           Not attached</span><br></pre></td></tr></table></figure>
<h3 id="wsl2-ubuntu-2004-创建-devttyusb0"><a class="markdownIt-Anchor" href="#wsl2-ubuntu-2004-创建-devttyusb0"></a> WSL2 Ubuntu-20.04 创建 /dev/ttyUSB0</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[Thu Jun 15 19:19:44 2023] vhci_hcd vhci_hcd.0: pdev(0) rhport(0) sockfd(3)</span><br><span class="line">[Thu Jun 15 19:19:44 2023] vhci_hcd vhci_hcd.0: devid(65546) speed(2) speed_str(full-speed)</span><br><span class="line">[Thu Jun 15 19:19:44 2023] vhci_hcd vhci_hcd.0: Device attached</span><br><span class="line">[Thu Jun 15 19:19:45 2023] vhci_hcd: vhci_device speed not set</span><br><span class="line">[Thu Jun 15 19:19:45 2023] usb 1-1: new full-speed USB device number 2 using vhci_hcd</span><br><span class="line">[Thu Jun 15 19:19:45 2023] vhci_hcd: vhci_device speed not set</span><br><span class="line">[Thu Jun 15 19:19:45 2023] usb 1-1: SetAddress Request (2) to port 0</span><br><span class="line">[Thu Jun 15 19:19:45 2023] usb 1-1: New USB device found, idVendor=04e2, idProduct=1410, bcdDevice= 0.03</span><br><span class="line">[Thu Jun 15 19:19:45 2023] usb 1-1: New USB device strings: Mfr=0, Product=0, SerialNumber=0</span><br><span class="line">[Thu Jun 15 19:19:45 2023] xr_serial 1-1:1.0: xr_serial converter detected</span><br><span class="line">[Thu Jun 15 19:19:45 2023] usb 1-1: xr_serial converter now attached to ttyUSB0</span><br></pre></td></tr></table></figure>
<h3 id="recovery-模式应该连接哪个-type-c-usb-serial-接口"><a class="markdownIt-Anchor" href="#recovery-模式应该连接哪个-type-c-usb-serial-接口"></a> Recovery 模式应该连接哪个 Type-C （USB SERIAL) 接口</h3>
<p>HiKey970 有两个 Type-C 接口，而且当板子被设置为 Recovery 模式时，两个接口均会被识别为“串口”。在左手边的 (J3101) 是用来访问 Debug UART 的，而在 HDMI 和 USB 中间的那个(J1801)是在 Recovery 模式下使用的。而且这两个接口是两个不同厂家提供的芯片，使用完全不同的内核驱动模块</p>
<p><img src="/images/hikey970/USB-Serial.png" alt="USB-to-Serial on Hikey970" /></p>
<ul>
<li>前者(J3101)：<br />
<code>Bus 001 Device 003: ID 04e2:1410 Exar Corp. XR21V1410 USB-UART IC</code></li>
</ul>
<p><img src="/images/hikey970/exar-USB-SER-driver.png" alt="Select CONFIG_USB_SERIAL_XR on WSL2 Kernal config" /></p>
<ul>
<li>后者(J1801)：<br />
<code>Bus 001 Device 002: ID 12d1:3609 Huawei Technologies Co., Ltd. USB SER</code></li>
</ul>
<p><img src="/images/hikey970/huawei-USB-SER-driver.png" alt="Select CONFIG_USB_SERIAL_OPTION on WSL2 Kernel config" /></p>
<h1 id="build-rootfsimg-and-bootimg"><a class="markdownIt-Anchor" href="#build-rootfsimg-and-bootimg"></a> Build rootfs.img and boot.img</h1>
<h2 id="bootimg"><a class="markdownIt-Anchor" href="#bootimg"></a> boot.img</h2>
<p><code>boot.img</code> 主要提供 bootloader, 所以它可以只包含 <strong>grub.efi</strong>, Hikey970 使用的 boot.img 是 64M 大小</p>
<h2 id="rootfsimg"><a class="markdownIt-Anchor" href="#rootfsimg"></a> rootfs.img</h2>
<p><code>rootfs.img</code> 就是整个系统了(根文件系统)，内核可执行文件(Image)和设备树二进制文件(.dtb) 都包含在它的 boot 目录里，Hikey970 使用的 rootfs.img 原始大小是 4.0GB, 但经过 android-tools 工具包里的 <code>img2simg</code> 处理后只有 716M</p>
<figure class="highlight plaintext"><figcaption><span>image 与 Raw image 大小对比</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-rw-r--r-- 1 luc luc 4.0G 11月26日 06:48 rootfs.img</span><br><span class="line">-rw-r--r-- 1 luc luc 716M 11月18日 21:47 rootfs.sparse.img</span><br></pre></td></tr></table></figure>
<h2 id="debootstrap"><a class="markdownIt-Anchor" href="#debootstrap"></a> debootstrap</h2>
<ul>
<li><code>/usr/sbin/qemu-debootstrap</code></li>
<li><code>/usr/sbin/debootstrap</code></li>
</ul>
<p>是两个 <strong>Shell 脚本</strong>, 主要就是通过下载相应平台的 binaries，通过 <strong>chroot</strong> 来制作根文件系统</p>
<h1 id="fastboot"><a class="markdownIt-Anchor" href="#fastboot"></a> fastboot</h1>
<p>fastboot 是用来从 Host 向开发板烧写固件和镜像的常用工具之一，在 Arch Linux 上它可以通过以下命令安装</p>
<figure class="highlight plaintext"><figcaption><span>fastboot</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -S android-sdk-platform-tools</span><br></pre></td></tr></table></figure>
<h2 id="fastboot-常用命令"><a class="markdownIt-Anchor" href="#fastboot-常用命令"></a> fastboot 常用命令</h2>
<figure class="highlight plaintext"><figcaption><span>bootloader 获取各种信息，如 version, partition</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fastboot getvar all</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><figcaption><span>ID, 可以用来判断设备是否已与 Host 正常连接就绪</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fastboot devices</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fastboot flash ptable 64gtoendprm_ptable.img</span><br><span class="line">fastboot flash xloader sec_xloader.img</span><br><span class="line">fastboot flash fastboot l-loader.bin</span><br><span class="line">fastboot flash fip fip.bin</span><br><span class="line">fastboot flash boot boot2grub.uefi.img</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><figcaption><span>Sparse 镜像，指定传输块大小，每 8M 传输</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fastboot -S 8M flash system rootfs.sparse.img</span><br></pre></td></tr></table></figure>
<h1 id="启动"><a class="markdownIt-Anchor" href="#启动"></a> 启动</h1>
<h2 id="bootloader"><a class="markdownIt-Anchor" href="#bootloader"></a> Bootloader</h2>
<figure class="highlight plaintext"><figcaption><span>mount -o loop boot2grub.uefi.img</span><a href="/mnt">link</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">➜  /mnt ls -lh /mnt/EFI/BOOT</span><br><span class="line">总计 881K</span><br><span class="line">-rwxr-xr-x 1 root root  29K 2018年 2月14日 fastboot.efi</span><br><span class="line">-rwxr-xr-x 1 root root 852K 2018年 2月14日 grubaa64.efi</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><figcaption><span>/boot 目录</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">hikey970% ls -lhR /boot</span><br><span class="line">/boot:</span><br><span class="line">total 23M</span><br><span class="line">drwxr-xr-x 3 root root 4.0K Jun 12  2018 EFI</span><br><span class="line">-rw-r--r-- 1 root root  23M Jun 12  2018 Image</span><br><span class="line">drwxr-xr-x 2 root root 4.0K Jun 12  2018 grub</span><br><span class="line">-rw-r--r-- 1 root root  68K Jun 12  2018 kirin970-hikey970.dtb</span><br><span class="line"></span><br><span class="line">/boot/EFI:</span><br><span class="line">total 4.0K</span><br><span class="line">drwxr-xr-x 2 root root 4.0K Jun 12  2018 BOOT</span><br><span class="line"></span><br><span class="line">/boot/EFI/BOOT:</span><br><span class="line">total 32K</span><br><span class="line">-rw-r--r-- 1 root root 29K Jun 12  2018 fastboot.efi</span><br><span class="line"></span><br><span class="line">/boot/grub:</span><br><span class="line">total 4.0K</span><br><span class="line">-rw-r--r-- 1 root root 462 Jun 12  2018 grub.cfg</span><br></pre></td></tr></table></figure>
<p><img src="/images/hikey970/hikey970-boot.png" alt="Hikey970 boot ubuntu bionic" /></p>
<blockquote>
<p><strong>NOTE:</strong><br />
HiKey970 的输入电压要求在 8V ~ 18V 之间，但最好使用 <strong>12V 以上接近 18V</strong>的输入电压，否则可能出现 <code>fastboot flash</code> 时出现板子自己重启的怪现象<br />
<img src="/images/hikey970/hikey970-power.jpg" alt="Hikey970 Input Power Voltage" /></p>
</blockquote>
<h2 id="连接-wifi"><a class="markdownIt-Anchor" href="#连接-wifi"></a> 连接 WiFi</h2>
<p><img src="/images/hikey970/wifi-connect.png" alt="Hikey970 wifi" /></p>
<p><img src="/images/hikey970/hikey970-wifi-led.jpg" alt="Hikey970 WiFi LED indicator" /></p>
<h2 id="xfce4-桌面"><a class="markdownIt-Anchor" href="#xfce4-桌面"></a> xfce4 桌面</h2>
<p>吃灰5,6年的板子又再一次亮了</p>
<p><img src="/images/hikey970/hikey970-xfce4.jpg" alt="Hikey970 xfce4" /></p>
<h1 id="制作-rootfs-initramfs"><a class="markdownIt-Anchor" href="#制作-rootfs-initramfs"></a> 制作 rootfs, initramfs</h1>
<p>环境是 qemu-system-aarch64 Debian 13 Trixie, 折腾了一圈，最后还是发现 Ubuntu, Debian, Arch Linux 这3个，还是 Debian 对 Aarch64 支持最好，Ubuntu 甚至还一个桌面版的 Arm 安装镜像都没有(Arm架构的安装镜像似乎都是服务器版的)。</p>
<p><img src="/images/hikey970/debian-vs-ubuntu.png" alt="Debian vs. Ubuntu" /></p>
<h2 id="networkmanager-vs-wpasupplicant"><a class="markdownIt-Anchor" href="#networkmanager-vs-wpasupplicant"></a> NetworkManager vs wpasupplicant</h2>
<p>点亮吹灰 Hikey970 用的是 <a target="_blank" rel="noopener" href="https://github.com/mengzhuo/hikey970-ubuntu-image">hikey970-ubuntu-image</a>, 它的 rootfs 里安装的是 NetworkManager, 当我试着将 hikey970-ubuntu-image 转换成 hikey970-debian-image 时，发现 debootstrap 会因为奇怪的包依赖问题，无法安装 NetworkManager， 而且了解到 wpasupplicant 可以完成同样的事情(连接 WiFi,让板子联网), 而且体量更小，更适合这种开发板。</p>
<p>所以这个 Debian 12 rootfs 网络这块使用了 <strong>wpasupplicant</strong>, <strong>iw</strong>, <strong>iproute2</strong>, <strong>dhcpcd5</strong> 四剑客</p>
<ul>
<li>wpasupplicant</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=WPA supplicant daemon (interface %i)</span><br><span class="line">After=sys-subsystem-net-devices-%i.device</span><br><span class="line">Wants=sys-subsystem-net-devices-%i.device</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">ExecStart=/sbin/wpa_supplicant -c /etc/wpa_supplicant/wpa_supplicant.conf -i %i</span><br><span class="line">Restart=on-failure</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>
<p>Note:</p>
<ol>
<li>当 <code>systemctl enable wpa_supplicant@wlan0.service</code> 时 systemd 会自动创建一个符号链接文件到 <code>/etc/systemd/system/wpa_supplicant@.service</code>, 而文件里的 <code>%i</code> 是无线网络设备接口名，即 <strong>wlan0</strong>.</li>
<li>手动创建 <code>/etc/wpa_supplicant/wpa_supplicant.conf</code> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wpa_passphrase &lt;SSID&gt; &lt;PASSWORD&gt; &gt;/etc/wpa_supplicant/wpa_supplicant.conf</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ul>
<li>iw</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iw dev wlan0 scan | grep &#x27;SSID:&#x27;</span><br><span class="line">iw dev wlan0 connect &lt;SSID&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>iproute2</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ip link show wlan0</span><br><span class="line">ip addr wlan0</span><br></pre></td></tr></table></figure>
<ul>
<li>dhcpcd5</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable dhcpcd.service</span><br><span class="line">systemctl start dhcpcd.service</span><br></pre></td></tr></table></figure>
<ul>
<li>ntpdate</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/sbin/ntpdate ntp.aliyun.com</span><br></pre></td></tr></table></figure>
<h1 id="display-on-hikey970"><a class="markdownIt-Anchor" href="#display-on-hikey970"></a> Display on HiKey970</h1>
<p><img src="/images/hikey970/hikey970-display.svg" alt="From claude.ai" /></p>
<h2 id="dsi-bridge-probe"><a class="markdownIt-Anchor" href="#dsi-bridge-probe"></a> <a target="_blank" rel="noopener" href="https://lore.kernel.org/dri-devel/e5ec9763-37fe-6cd8-6eca-52792afbdb94@samsung.com/T/">DSI bridge probe</a></h2>
<p>DSI bridge driver probe <a target="_blank" rel="noopener" href="https://gist.github.com/lucmann/7ae4bf26d49807a4d951db2e989a271c">陷入死循环</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[    3.270639] [drm] the bridge node is adv7533</span><br><span class="line">[    3.270645] [drm] wait for external HDMI bridge driver.</span><br><span class="line">[    3.270832] of_irq_parse_raw:  /soc/gpio@e8a0c000:00000001,00000002</span><br><span class="line">[    3.270905] adv7511_probe dev-&gt;of_node (____ptrval____)</span><br><span class="line">[    3.270909] __devm_drm_bridge_alloc</span><br><span class="line">[    3.271426] adv7511_init_regulators</span><br><span class="line">[    3.330257] [drm] the bridge node is adv7533</span><br><span class="line">[    3.330264] [drm] wait for external HDMI bridge driver.</span><br><span class="line">[    3.330449] of_irq_parse_raw:  /soc/gpio@e8a0c000:00000001,00000002</span><br><span class="line">[    3.330522] adv7511_probe dev-&gt;of_node (____ptrval____)</span><br><span class="line">[    3.330526] __devm_drm_bridge_alloc</span><br><span class="line">[    3.331015] adv7511_init_regulators</span><br><span class="line">[    3.390209] [drm] the bridge node is adv7533</span><br><span class="line">[    3.390215] [drm] wait for external HDMI bridge driver.</span><br><span class="line">[    3.390397] of_irq_parse_raw:  /soc/gpio@e8a0c000:00000001,00000002</span><br><span class="line">[    3.390464] adv7511_probe dev-&gt;of_node (____ptrval____)</span><br><span class="line">[    3.390468] __devm_drm_bridge_alloc</span><br><span class="line">[    3.390937] adv7511_init_regulators</span><br><span class="line">[    3.446194] [drm] the bridge node is adv7533</span><br><span class="line">[    3.446200] [drm] wait for external HDMI bridge driver.</span><br></pre></td></tr></table></figure>
<p>按照上游对 hisilicon/kirin/dw_drm_dsi.c 的<a target="_blank" rel="noopener" href="https://lists.freedesktop.org/archives/freedreno/2021-October/012892.html">修改</a>，将 hikey9xx/gpu/kirin9xx_dw_drm_dsi.c 中的 <code>dsi_probe()</code> 在 probe ordering 调整后可解决此问题</p>
<p><img src="/images/hikey970/dsi_probe_ordering_comparison.svg" alt="From claude.ai" /></p>
<h1 id="panfrost-on-hikey970"><a class="markdownIt-Anchor" href="#panfrost-on-hikey970"></a> Panfrost on HiKey970</h1>
<p>Pathor© 和 Tyr(Rust) 都是为 Valhall 架构以上的 Mali GPU (即基于 Command Stream Frontend 的 GPU) 而写的驱动, HiKey 970 (HI3670 SoC) 搭载的是 Mali G72 MP12 (Bifrost)，所以只能使用 Panfrost 驱动。上面可以启动的内核是 v4.19, 当时的 GPU 驱动还是 lima.</p>
<p>HiKey 970 开发板对应的 devicetree 源文件 <strong>hi3670-hikey970.dts</strong>， 在 v4.19 时也合入了主线。</p>
<blockquote>
<p>commit 5510ee99c0deb0c0235acee6498a6745c8317df1<br />
Refs: v4.19-rc1-6-g5510ee99c0de<br />
Author:     Manivannan Sadhasivam <a href="mailto:mani@kernel.org">mani@kernel.org</a><br />
AuthorDate: Fri Aug 10 23:23:39 2018 +0530<br />
Commit:     Wei Xu <a href="mailto:xuwei5@hisilicon.com">xuwei5@hisilicon.com</a><br />
CommitDate: Wed Sep 19 16:15:25 2018 +0100</p>
<pre><code>arm64: dts: Add devicetree support for HiKey970 board

Add devicetree support for HiKey970 development board which
based on Hi3670 SoC and is also one of the 96Boards Consumer
Edition and AI platform.

Only UART6 is enabled which is the default console required
by the 96Boards Consumer Edition Specification.

This patch has been tested on HiKey970 Board.

Signed-off-by: Manivannan Sadhasivam &lt;manivannan.sadhasivam@linaro.org&gt;
Signed-off-by: Wei Xu &lt;xuwei5@hisilicon.com&gt;
</code></pre>
<hr />
<p>arch/arm64/boot/dts/hisilicon/hi3670-hikey970.dts | 35 +++++++++++++++++++++++++++++++++++<br />
1 file changed, 35 insertions(+)</p>
</blockquote>
<h2 id="v619"><a class="markdownIt-Anchor" href="#v619"></a> v6.19</h2>
<p>到目前为止，使用 <a target="_blank" rel="noopener" href="https://github.com/mengzhuo/hikey970-ubuntu-image">@mengzhuo/hikey970-ubuntu-image</a> 可以正常启动 HiKey970，而且安装了 Xfce，所以我 fork 了这个仓库，将其更名为 <a target="_blank" rel="noopener" href="https://github.com/lucmann/hikey970-debian-image">hikey970-debian-image</a>，将基于 Ubuntu bionic (18.04 LTS) 的 rootfs.img 移植到基于 Debian bookworm (12) 的 rootfs.img，并成功启动。之后准备将这块 2018 年 3 月发布的板子作为学习和测试内核最新驱动的平台，所以现在就看看主线编译的设备树 (arch/arm64/boot/dts/hisilicon/hi3670-hikey970.dtb) 和内核 (arch/arm64/boot/Image.gz) 是否能正常启动。</p>
<ul>
<li>kernel + dtb<br />
<img src="/images/hikey970/try-latest-kernel-on-hikey970.png" alt="Try latest kernel on hikey970" /></li>
<li>kernel only<br />
<img src="/images/hikey970/try-latest-kernel-on-hikey970-2.png" alt="Try latest kernel on hikey970" /></li>
</ul>
<h3 id="random-crng-init-done-took-70-minutes"><a class="markdownIt-Anchor" href="#random-crng-init-done-took-70-minutes"></a> <code>random: crng init done</code> took <strong>70</strong> minutes</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[    5.201987] random: perl: uninitialized urandom read (4 bytes read)</span><br><span class="line">[    5.202263] random: perl: uninitialized urandom read (4 bytes read)</span><br><span class="line">[FAILED] Failed to start systemd-ra…rvice - Load/Save Random Seed.</span><br><span class="line">See &#x27;systemctl status systemd-random-seed.service&#x27; for details.</span><br><span class="line">         Starting systemd-tmpfiles-…leanup of Temporary Directories...</span><br><span class="line">[  OK  ] Finished systemd-tmpfiles-… Cleanup of Temporary Directories.</span><br><span class="line">         Starting dpkg-db-backup.se…ly dpkg database backup service...</span><br><span class="line">         Starting logrotate.service - Rotate log files...</span><br><span class="line">[  OK  ] Finished dpkg-db-backup.se…aily dpkg database backup service.</span><br><span class="line">[  OK  ] Finished logrotate.service - Rotate log files.</span><br><span class="line">[ 4396.712657] random: crng init done</span><br><span class="line">[ 4396.712674] random: 4 urandom warning(s) missed due to ratelimiting</span><br></pre></td></tr></table></figure>
<p>crng init 花这么长时间的原因是系统 entropy sources 不足，内核一直在填充 entropy pool, 这种情况只发生在刷写系统后第一次启动，之后 entropy pool 应该固化在 UFS 存储里了，启动时间就正常了。但因为需要频繁刷写系统，所以还是得解决这个问题。尝试了 rng-tools5 和 haveged 后，发现 haveged 可以解决这个问题。理论上 rng-tools5/rng-tools 也可以借助 <code>/dev/hwrng</code> 解决这个问题，但不知为何 rngd 服务始终<a target="_blank" rel="noopener" href="https://gist.githubusercontent.com/lucmann/bfabaac6a2c904877629dd3ce97229eb/raw/ceb01cbe992a09d8e1c20a944ea272c8145c7a67/rngd.log">不能正常工作</a>，怀疑可能是 Hi3670 SoC 的 TRNG 驱动有问题。</p>
<h3 id="sd-卡不识别"><a class="markdownIt-Anchor" href="#sd-卡不识别"></a> SD 卡不识别</h3>
<p>现象：系统启动后 <code>lsblk</code> 看不到 <code>/dev/mmcblk0</code></p>
<p>使用原来的 <a target="_blank" rel="noopener" href="https://github.com/mengzhuo/hikey970-ubuntu-image">hikey970-ubuntu-image (@mengzhuo)</a> 镜像，SD 卡是正常识别的，这就说明电源和卡本身没有问题(之前因为使用 12V 的电源, fastboot flash 总是失败的教训很深刻🐶)。</p>
<p>将下来主要排查设备树和内核配置的问题，在这里和 ChatGPT/DeepSeek 交流了很多，总体感觉 ChatGPT 在这方面比 DeepSeek 靠谱一点。了解到了 HI3670 SoC 的 MMC 控制器使用的是 Synopsis DesignWare MMC, 它是一种不遵循 SD Host Controller Interface 规范的厂家自定义接口。</p>
<h3 id="sd-卡启动"><a class="markdownIt-Anchor" href="#sd-卡启动"></a> SD 卡启动</h3>
<p>SD 卡启动有两个主要问题:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/lucmann/hikey970-debian-image/blob/hikey970-debian-image/hikey970_dual_boot_builder.sh">准备好 sdcard.img</a></li>
<li>让 UEFI 能够识别 sdcard 上的 boot 分区</li>
</ul>
<p><img src="/images/hikey970/BootManager.png" alt="Hikey970 BootManager" /><br />
<img src="/images/hikey970/DevicesList.png" alt="Hikey970 BootManager" /><br />
<img src="/images/hikey970/BootFromFile.png" alt="Hikey970 BootManager" /><br />
<img src="/images/hikey970/boot_sdcard_0x30a7d232_0x3f_0x7ffc1.png" alt="Hikey970 BootManager" /><br />
<img src="/images/hikey970/grub.png" alt="Hikey970 BootManager" /></p>
<h1 id="参考"><a class="markdownIt-Anchor" href="#参考"></a> 参考</h1>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.96boards.org/documentation/consumer/hikey/hikey970/hardware-docs/files/hikey970-user-manual.pdf">HiKey970 User Guide</a></li>
<li><a target="_blank" rel="noopener" href="https://www.96boards.org/documentation/consumer/hikey/hikey970/installation/board-recovery.md.html">HiKey970 Board Recovery</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/96boards/documentation/tree/master/consumer/hikey/hikey970">HiKey970 GitHub</a></li>
<li><a target="_blank" rel="noopener" href="https://www.96boards.org/documentation/consumer/hikey/hikey620/installation/linux-sd-boot.md.html">Create a Bootable SD Card for HiKey</a></li>
<li><a target="_blank" rel="noopener" href="https://releases.linaro.org/96boards/reference-platform/debian/hikey/">Linaro downloads</a></li>
<li><a target="_blank" rel="noopener" href="https://lore.kernel.org/bpf/20200820100440.2d30dc02@coco.lan/T/">DRM driver for HiKey 970</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/dorssel/usbipd-win/issues/59">usbipd-win github issues</a></li>
<li><a target="_blank" rel="noopener" href="https://notes.leconiot.com/debootstrap.html">跨平台更新制作 rootfs</a></li>
<li><a target="_blank" rel="noopener" href="https://www.collabora.com/news-and-blog/news-and-events/racing-karts-on-a-rust-gpu-kernel-driver.html">Racing karts on a Rust GPU kernel driver</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/lucmann/hikey970-ubuntu-image">制作 Hikey970 的 rootfs</a></li>
<li><a target="_blank" rel="noopener" href="https://uefi.org/sites/default/files/resources/UEFI_Shell_Spec_2_0_Errata_A.pdf">UEFI Shell Specification</a></li>
<li><a target="_blank" rel="noopener" href="https://patchwork.kernel.org/project/dri-devel/patch/20190627151740.2277-1-matt.redfearn@thinci.com/">When should ADV7511 bridge attach to DSI host</a></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lucmann.github.io/lnx/syscall/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Luc">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eureka">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Eureka">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/lnx/syscall/" class="post-title-link" itemprop="url">Syscall vs C routines</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-06-13 18:30:15" itemprop="dateCreated datePublished" datetime="2023-06-13T18:30:15+08:00">2023-06-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
        </span>
    </span>

  
    <span id="/lnx/syscall/" class="post-meta-item leancloud_visitors" data-flag-title="Syscall vs C routines" title="Views">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/lnx/syscall/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="lnx/syscall/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>系统调用是 Linux 用户态程序与内核通信的接口。 每个特定的文件系统都会在自己的 <code>file_operations</code> 里提供各种文件操作接口，像 <code>.open</code>, <code>.close</code>, <code>.ioctl</code>。系统调用会通过 VFS 的接口调用这些具体的实现，而对于应用程序来说，一般不会直接使用系统调用，而是调用 C 库函数 (C routines).</p>
<p>ioctl 这个系统调用的声明大概是这样:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">COMPAT_SYSCALL_DEFINE3(ioctl, unsigned int, fd, unsigned int, cmd, compat_ulong_t, arg)</span><br></pre></td></tr></table></figure>
<p>ioctl 的 C 库函数 (Aarch64 实现)：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">	.text</span><br><span class="line">ENTRY(__ioctl)</span><br><span class="line">    /* move ioctl syscall number to x8 register */</span><br><span class="line">	mov	x8, #__NR_ioctl</span><br><span class="line">    /* sign extend w0 to x0 */</span><br><span class="line">	sxtw	x0, w0</span><br><span class="line">    /* issue software interrupt to invoke syscall */</span><br><span class="line">	svc	#0x0</span><br><span class="line">    /* add 4095 to x0 and set flags according to result */</span><br><span class="line">	cmn	x0, #4095</span><br><span class="line">    /* if carry bit is set (previous addition carrys out), branch to Lsyscall_error */</span><br><span class="line">	b.cs	.Lsyscall_error</span><br><span class="line">	ret</span><br><span class="line">PSEUDO_END (__ioctl)</span><br><span class="line"></span><br><span class="line">/* symbol management, making __ioctl and ioctl effectively the same function */</span><br><span class="line">libc_hidden_def (__ioctl)</span><br><span class="line">weak_alias (__ioctl, ioctl)</span><br></pre></td></tr></table></figure>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/lnx/syscall/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lucmann.github.io/lnx/kernel-debug/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Luc">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eureka">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Eureka">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/lnx/kernel-debug/" class="post-title-link" itemprop="url">Linux Kernel Debugging</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-05-19 11:38:43" itemprop="dateCreated datePublished" datetime="2023-05-19T11:38:43+08:00">2023-05-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
        </span>
    </span>

  
    <span id="/lnx/kernel-debug/" class="post-meta-item leancloud_visitors" data-flag-title="Linux Kernel Debugging" title="Views">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/lnx/kernel-debug/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="lnx/kernel-debug/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <table>
<thead>
<tr>
<th style="text-align:left">Distro</th>
<th style="text-align:left">Ubuntu</th>
<th style="text-align:left">Arch Linux</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">source</td>
<td style="text-align:left"><a href="git://git.launchpad.net/~ubuntu-kernel/ubuntu/+source/linux/+git/jammy">git://git.launchpad.net/~ubuntu-kernel/ubuntu/+source/linux/+git/jammy</a></td>
<td style="text-align:left"><a href="git@github.com:archlinux/linux.git">git@github.com:archlinux/linux.git</a></td>
</tr>
<tr>
<td style="text-align:left">initrd</td>
<td style="text-align:left"><code>sudo mkinitramfs -o /boot/initrd.img-KERNELVERSION KERNELVERSION</code></td>
<td style="text-align:left"><code>sudo mkinitcpio --generate /boot/initramfs-KERNELVERSION.img --kernel KERNELVERSION</code></td>
</tr>
<tr>
<td style="text-align:left">grub</td>
<td style="text-align:left"><code>sudo update-grub</code></td>
<td style="text-align:left"><code>sudo grub-mkconfig -o /boot/grub/grub.cfg</code></td>
</tr>
</tbody>
</table>
<ul>
<li><code>KERNELVERSION</code> 是 <code>make kernelrelease</code> 的输出，同时也是 <code>sudo make modules_install</code> 时在 <code>/lib/modules</code> 创建的目录名</li>
</ul>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/lnx/kernel-debug/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lucmann.github.io/gfx/kms/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Luc">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eureka">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Eureka">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/gfx/kms/" class="post-title-link" itemprop="url">Knowledge from "[RFC] Plane color pipeline KMS uAPI"</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-05-11 15:35:43" itemprop="dateCreated datePublished" datetime="2023-05-11T15:35:43+08:00">2023-05-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/graphics/" itemprop="url" rel="index"><span itemprop="name">graphics</span></a>
        </span>
    </span>

  
    <span id="/gfx/kms/" class="post-meta-item leancloud_visitors" data-flag-title="Knowledge from "[RFC] Plane color pipeline KMS uAPI"" title="Views">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/gfx/kms/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="gfx/kms/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="gamma-lut-property"><a class="markdownIt-Anchor" href="#gamma-lut-property"></a> Gamma LUT property</h1>
<p>Gamma LUT (Look-Up Table) is a property that is used to correct the color and brightness of an image or video. Gamma LUT is basically a table of values that is used to map input values to output values, for example, it may map low input values to higher output values to brighten the image.</p>
<p>Gamma LUT is used to adjust the gamma curve of an image or video, which means it can be used to correct the brightness and contrast of an image. This property is commonly used in image and video processing applications, such as photo editing software, video editing software, and color grading tools.</p>
<p>Gamma LUT can also be used to correct color shifts caused by different lighting conditions or camera settings. By adjusting the gamma curve of an image or video, it is possible to create a more natural and accurate representation of the original scene.</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/gfx/kms/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="Previous page" aria-label="Previous page" href="/page/5/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/7/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2026</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Luc</span>
  </div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/mist/" rel="noopener" target="_blank">NexT.Mist</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>


  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"forest","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/11.4.0/mermaid.min.js","integrity":"sha256-G8ouPAnw4zzMbnAenHnVz6h9XpKbNdOkrqTh7AadyHs="}}</script>
  <script src="/js/third-party/tags/mermaid.js"></script>





  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>


  <script class="next-config" data-name="leancloud_visitors" type="application/json">{"enable":true,"app_id":"RIqzuwdV0iZwT6XIZjv74zCj-MdYXbMMI","app_key":"9gRe7wBvmmjIneYA9pYAJywK","server_url":null,"security":false}</script>
  <script src="/js/third-party/statistics/lean-analytics.js"></script>


  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css" integrity="sha256-UF1fgpAiu3tPJN/uCqEUHNe7pnr+QR0SQDNfgglgtcM=" crossorigin="anonymous">


<script class="next-config" data-name="disqus" type="application/json">{"enable":true,"shortname":"lucmann-github-io","count":true,"i18n":{"disqus":"disqus"}}</script>
<script src="/js/third-party/comments/disqus.js"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</body>
</html>
